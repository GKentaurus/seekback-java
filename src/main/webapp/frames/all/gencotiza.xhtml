<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  <h:head>
    <title>QPCOM | Seekback</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <h:outputStylesheet library="materialize" name="css/materialize.min.css" />
    <h:outputScript library="" name="jquery.min.js" />
    <h:outputScript library="materialize" name="js/materialize.min.js" />
    <h:outputScript library="" name="fontawesome.js" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <style>
      body {
        background-image: url("#{resource['images/logob.png']}");
        background-attachment: fixed;
        background-repeat: no-repeat;
        background-size: 700px;
        background-position: 130% -300%;
        background-blend-mode: difference;
      }

    </style>
  </h:head>

  <h:body>
    <div class="container">
      <div class="row">
        <div class="col s12">
          <p style="font-size:25px;" class="center-align"><i class="fas fa-folder-plus"></i> Solicitar cotizacion <i class="far fa-file-alt"></i></p>
          <h:panelGroup rendered="#{usuarioController.confirmRole('Empleado')}">
            <h:form>
              <div class="row">
                <div class="col s12 m6">
                  <div class="input-field">
                    <h:outputLabel for="cliente" value="Cliente" style="margin-top: -30px;"/>
                    <h:selectOneMenu pt:placeholder=" " pt:id="cliente"  class="browser-default"
                                     value="#{cotizacionController.idCliente}">
                      <f:selectItem itemLabel="Seleccione una opcion"/>
                      <f:selectItems value="#{clienteController.clientes}"
                                     var="cl"
                                     itemValue="#{cl.id}"
                                     itemLabel="#{cl.primerNombre} #{cl.otrosNombres} #{cl.primerApellido} #{cl.otrosApellidos}"/>
                    </h:selectOneMenu>
                  </div>
                </div>
                <div class="input-field col s12 m6">
                  <h:selectOneMenu id="divi"
                                   value="#{cotizacionController.idDivisaseleccionada}">
                    <f:selectItem itemLabel="Seleccione una opcion"/>
                    <f:selectItems value="#{divisaController.divisas}"
                                   var="di"
                                   itemValue="#{di.id}"
                                   itemLabel="#{di.sigla} #{di.nombre}"/>
                    <f:ajax execute="@this" render="trm"/>
                  </h:selectOneMenu>
                  <h:outputLabel for="divi" value="Divisa" />
                </div>
                <div class="input-field col s12 m6">
                  <h:selectOneMenu pt:placeholder=" " id="trm"  class="browser-default">
                    <f:selectItem itemLabel="Seleccione una opcion"
                                  noSelectionOption="true" />
                    <f:selectItems value="#{cotizacionController.trmsSeleccionada}"
                                   var="tr"
                                   itemValue="#{tr.id}"
                                   itemLabel="#{tr.tasaCambio}">
                    </f:selectItems>
                  </h:selectOneMenu>
                  <h:outputLabel for="trm" value="TRM" style="margin-top: -30px;"/>
                </div>
              </div>
              <div class="col s12 m6">
                <div class="input-field">
                  <h:inputTextarea id="motivo" class="materialize-textarea" value="#{cotizacionController.motivo}" ></h:inputTextarea>
                  <h:outputLabel for="motivo">Motivo</h:outputLabel>
                </div>
              </div>
              <div class="row">
                <div class="col s12">
                  <h:commandButton class="waves-effect waves-light btn" action="#{cotizacionController.createe()}" value="Solicitar"/>
                </div>
              </div>
            </h:form>
          </h:panelGroup>
          <h:panelGroup rendered="#{usuarioController.confirmRole('Cliente')}">
            <h:form>
              <div class="row">
                <div class="input-field col s12 m6">
                  <h:selectOneMenu id="divi"
                                   value="#{cotizacionController.idDivisaseleccionada}">
                    <f:selectItem itemLabel="Seleccione una opcion"/>
                    <f:selectItems value="#{divisaController.divisas}"
                                   var="di"
                                   itemValue="#{di.id}"
                                   itemLabel="#{di.sigla} #{di.nombre}"/>
                    <f:ajax execute="@this" render="trm"/>
                  </h:selectOneMenu>
                  <h:outputLabel for="divi" value="Divisa" />
                </div>
                <div class="input-field col s12 m6">
                  <h:selectOneMenu pt:placeholder=" " id="trm"  class="browser-default"
                                   value="#{cotizacionController.trm}">
                    <f:selectItem itemLabel="Seleccione una opcion"
                                  noSelectionOption="true" />
                    <f:selectItems value="#{cotizacionController.trmsSeleccionada}"
                                   var="tr"
                                   itemValue="#{tr.id}"
                                   itemLabel="#{tr.tasaCambio}">
                    </f:selectItems>
                  </h:selectOneMenu>
                  <h:outputLabel for="trm" value="TRM" style="margin-top: -30px;"/>
                </div>
                <div class="col s12 m6">
                  <div class="input-field">
                    <h:inputTextarea id="motivo" class="materialize-textarea" value="#{cotizacionController.motivo}" ></h:inputTextarea>
                    <h:outputLabel for="motivo">Motivo</h:outputLabel>
                  </div>
                </div>
                <h:commandButton class="waves-effect waves-light btn" action="#{cotizacionController.test()}" value="Solicitar"/>
              </div>
              <h:messages></h:messages>
            </h:form>
          </h:panelGroup>
        </div>
      </div>
    </div>

    <script>


      $(document).ready(function () {
        $('select').formSelect();
      });
    </script>


  </h:body>
</html>
